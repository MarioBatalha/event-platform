import{r as t,c as i,h as s,g as e,w as n}from"./p-aa8acb66.js";import{c as o,D as r,e as h,l as a}from"./p-b018976f.js";import{c as l}from"./p-5ad78595.js";import{w as c}from"./p-cbbce638.js";import{w as v}from"./p-61f7a20b.js";import"./p-152748b8.js";const m=class{constructor(s){t(this,s),this.vmCheck=i(this,"vmCheck",7),this.checked=!1,this.checkIcon="check",o(this)}onClick(){this.checked=!0,this.vmCheck.emit()}render(){return s("vm-menu-item",{label:this.label,checked:this.checked,badge:this.badge,checkIcon:this.checkIcon,icons:this.icons,onClick:this.onClick.bind(this)})}},u=class{constructor(s){t(this,s),this.vmCheck=i(this,"vmCheck",7),o(this)}onValueChange(){var t;null===(t=this.findRadios())||void 0===t||t.forEach((t=>{t.checked=t.value===this.value}))}connectedCallback(){this.onValueChange()}componentDidLoad(){this.onValueChange()}onSelectionChange(t){this.value=t.target.value}findRadios(){var t;return null===(t=this.host.shadowRoot.querySelector("slot"))||void 0===t?void 0:t.assignedElements()}render(){return s("slot",null)}get host(){return e(this)}static get watchers(){return{value:["onValueChange"]}}};let d=0;const g=class{constructor(i){t(this,i),this.disposal=new r,this.menuHeight=0,this.pin="bottomRight",this.active=!1,this.isMobile=!1,this.isAudioView=!1,o(this),v(this),c(this,["isMobile","isAudioView"])}onActiveChange(){this.dispatch("isSettingsActive",this.active),h(this.controller)||(this.controller.expanded=this.active)}connectedCallback(){this.dispatch=l(this),d+=1,this.id=`vm-settings-${d}`}disconnectedCallback(){this.disposal.empty()}setController(t){return i=this,s=void 0,n=function*(){this.controller=t,this.controller.menu=this.id,this.disposal.empty(),this.disposal.add(a(this.controller,"click",(()=>{this.active=!this.active}))),this.disposal.add(a(this.controller,"keydown",(t=>{"Enter"===t.key&&(this.active||this.menu.focusMenu())})))},new((e=void 0)||(e=Promise))((function(t,o){function r(t){try{a(n.next(t))}catch(t){o(t)}}function h(t){try{a(n.throw(t))}catch(t){o(t)}}function a(i){var s;i.done?t(i.value):(s=i.value,s instanceof e?s:new e((function(t){t(s)}))).then(r,h)}a((n=n.apply(i,s||[])).next())}));var i,s,e,n}getPosition(){if(this.isAudioView)return{right:"0",bottom:"calc(var(--vm-controls-height, 0) + 4px)"};const t=this.pin.split(/(?=[L|R])/).map((t=>t.toLowerCase()));return{[t.includes("top")?"top":"bottom"]:"var(--vm-controls-height, 0)",[t.includes("left")?"left":"right"]:"8px"}}onOpen(t){var i;(null===(i=t.detail)||void 0===i?void 0:i.identifier)===this.id&&(this.active=!0)}onClose(t){var i;(null===(i=t.detail)||void 0===i?void 0:i.identifier)===this.id&&(this.active=!1)}onHeightChange(t){this.menuHeight=t.detail}render(){return s("div",{style:Object.assign({},this.getPosition()),class:{settings:!0,active:this.active,mobile:this.isMobile}},s("div",{class:"container",style:{height:`${this.menuHeight}px`}},s("vm-menu",{identifier:this.id,active:this.active,controller:this.controller,onVmOpen:this.onOpen.bind(this),onVmClose:this.onClose.bind(this),onVmMenuHeightChange:this.onHeightChange.bind(this),ref:t=>{this.menu=t}},s("slot",null))))}get host(){return e(this)}static get watchers(){return{active:["onActiveChange"]}}};g.style=":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:none;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color)\n    var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;pointer-events:auto;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}";var b=function(t,i,s,e){return new(s||(s=Promise))((function(n,o){function r(t){try{a(e.next(t))}catch(t){o(t)}}function h(t){try{a(e.throw(t))}catch(t){o(t)}}function a(t){var i;t.done?n(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(r,h)}a((e=e.apply(t,i||[])).next())}))};let p=0;const f=class{constructor(s){t(this,s),this.vmOpenSubmenu=i(this,"vmOpenSubmenu",7),this.vmCloseSubmenu=i(this,"vmCloseSubmenu",7),this.slideInDirection="right",this.active=!1,o(this)}connectedCallback(){this.genId()}getController(){return b(this,void 0,void 0,(function*(){return this.controller}))}getMenu(){return b(this,void 0,void 0,(function*(){return this.menu}))}getControllerHeight(){var t,i;return b(this,void 0,void 0,(function*(){return null!==(i=null===(t=this.controller)||void 0===t?void 0:t.getHeight())&&void 0!==i?i:0}))}getControllerHeightSync(){var t;const i=null===(t=this.controller)||void 0===t?void 0:t.shadowRoot.querySelector("[role='menuitem']");return i?parseFloat(window.getComputedStyle(i).height):0}onMenuOpen(){this.active=!0,this.vmOpenSubmenu.emit(this.host)}onMenuClose(){this.active=!1,this.vmCloseSubmenu.emit(this.host)}genId(){p+=1,this.id=`vm-submenu-${p}`}getControllerId(){return`${this.id}-controller`}render(){return s("div",null,s("vm-menu-item",{identifier:this.getControllerId(),menu:this.menu,label:this.label,hint:this.hint,expanded:this.active,ref:t=>{n((()=>{this.controller=t}))}}),s("vm-menu",{identifier:this.id,controller:this.controller,active:this.active,slideInDirection:this.slideInDirection,onVmOpen:this.onMenuOpen.bind(this),onVmClose:this.onMenuClose.bind(this),ref:t=>{n((()=>{this.menu=t}))},style:{top:`${this.getControllerHeightSync()+1}px`}},s("slot",null)))}get host(){return e(this)}};export{m as vm_menu_radio,u as vm_menu_radio_group,g as vm_settings,f as vm_submenu}